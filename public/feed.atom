<?xml version="1.0" encoding="UTF-8"?>
<feed xml:lang="en-US" xmlns="http://www.w3.org/2005/Atom">
  <id>tag:world.hey.com,2005:/ferrata/feed</id>
  <link rel="alternate" type="text/html" href="https://world.hey.com/ferrata"/>
  <link rel="self" type="application/atom+xml" href="https://world.hey.com/ferrata/feed.atom"/>
  <title>Sasha Goloshchapov</title>
  <updated>2022-11-23T15:31:35Z</updated>
  <entry>
    <id>tag:world.hey.com,2005:World::Post/24319</id>
    <published>2022-11-23T15:31:35Z</published>
    <updated>2022-11-23T15:31:35Z</updated>
    <link rel="alternate" type="text/html" href="https://world.hey.com/ferrata/github-app-authentication-in-darklang-09f45920"/>
    <title>GitHub App authentication in darklang</title>
    <content type="html">&lt;div class="trix-content"&gt;
  &lt;div&gt;My friend introduced me to a project named &lt;a href="https://darklang.com/"&gt;darklang&lt;/a&gt;, or simply Dark. It's a serverless and deployless backend builder. A unique approach that sets it apart (at least for me) is stated on its &lt;a href="https://docs.darklang.com/introduction"&gt;Introduction page&lt;/a&gt;:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&gt;&lt;em&gt;Darklang is an integrated language, framework, and editor for building web backends: REST API endpoints, asynchronous background workers, scheduled jobs, and persistent storage. Dark's framework is tightly coupled to the infrastructure, and as you write code you're able to develop from real incoming requests/traces.&lt;/em&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Also, it is a &lt;a href="https://docs.darklang.com/discussion/languageoverview"&gt;functional language&lt;/a&gt;!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&gt;&lt;em&gt;Dark is a statically-typed functional/imperative hybrid, based loosely on ML. Dark has implicit returns, and makes heavy use of pipelines and functions like List::map&lt;/em&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;So, having quite a bit of backend and API experience, I was intrigued! But mainly, I wanted to test-drive Dark and see how it felt.&lt;br&gt;&lt;br&gt;I started a small project that I will share later; it uses &lt;a href="https://docs.github.com/en/rest"&gt;GitHub API&lt;/a&gt; with &lt;a href="https://docs.github.com/en/rest/apps/apps"&gt;App access&lt;/a&gt;, and I needed a way to authenticate my GitHub app. Since Dark is under active development, it doesn't have all the bells and whistles yet, but it's impressive how many features are already implemented. &lt;br&gt;&lt;br&gt;This is a small, wanna-be-guide on creating and authenticating your GitHub app with Dark. &lt;br&gt;&lt;br&gt;1. &lt;a href="https://docs.github.com/en/developers/apps/building-github-apps/creating-a-github-app"&gt;Create&lt;/a&gt; a new GitHub App&lt;br&gt;&lt;br&gt;2. &lt;a href="https://docs.github.com/en/developers/apps/building-github-apps/authenticating-with-github-apps#generating-a-private-key"&gt;Generate&lt;/a&gt; a private key&lt;br&gt;&lt;br&gt;3. Add secrets to your project in Dark:&lt;/div&gt;&lt;ul&gt;&lt;li&gt;APP_ID - contains GitHub App ID; it can be found in the About section of your GitHub App&lt;/li&gt;&lt;li&gt;APP_PEM - contains a PEM certificate from the previous step&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;br&gt;4. Install the GitHub App into your profile&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;5. Create a new function, &lt;em&gt;github_authenticate,&lt;/em&gt; in your Dark functions. Add the following implementation:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;pre&gt;let now = Date::now
let jwt = JWT::signAndEncodev1
            APP_PEM
            {
              iat : now
                    |&amp;gt;Date::toSeconds
              exp : Date::add now 60 * 10 - 1
                    |&amp;gt;Date::toSeconds
              iss : APP_ID
            }
let headers = {
                Accepts : &amp;quot;application/vnd.github.v3+json&amp;quot;
              }
              |&amp;gt;Dict::set &amp;quot;User-Agent&amp;quot; &amp;quot;DarkGithub&amp;quot;
              |&amp;gt;Dict::merge HttpClient::bearerTokenv1 jwt
let installation = HttpClient::getv5 &amp;quot;https://api.github.com/app/installations&amp;quot; Dict::empty headers
                   |&amp;gt;\r -&amp;gt; r.body
                   |&amp;gt;List::getAtv1 0
let tokensUrl = String::join
                  [&amp;quot;https://api.github.com/app/installations&amp;quot;,
                   toString installation.id,&amp;quot;access_tokens&amp;quot;]
                  &amp;quot;/&amp;quot;
let response = HttpClient::postv5 tokensUrl Dict::empty Dict::empty headers
Ok response.body&lt;/pre&gt;&lt;div&gt;&lt;br&gt;Here is how it looks in Dark:&lt;br&gt;&lt;br&gt;  &lt;figure class="attachment attachment--preview attachment--lightboxable attachment--png"&gt;
      &lt;a download="image.png" title="Download image.png" data-click-proxy-target="lightbox_link_blob_1022295051" href="https://world.hey.com/ferrata/09f45920/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCQXY4N2p3PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--cd52e4f0a19ccab2e78fba5f51e2c4d6ee04f8c9/image.png?disposition=attachment"&gt;
        &lt;img src="https://world.hey.com/ferrata/09f45920/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCQXY4N2p3PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--cd52e4f0a19ccab2e78fba5f51e2c4d6ee04f8c9/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDam9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFLQUIya0NBQVU2REhGMVlXeHBkSGxwU3pvTGJHOWhaR1Z5ZXdZNkNYQmhaMlV3T2cxamIyRnNaWE5qWlZRPSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9333ff4f088aa9239bed4b0a224e37f2c7bab42d/image.png" alt="image.png" srcset="https://world.hey.com/ferrata/09f45920/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCQXY4N2p3PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--cd52e4f0a19ccab2e78fba5f51e2c4d6ee04f8c9/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDam9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJQUQya0NBQW82REhGMVlXeHBkSGxwUVRvTGJHOWhaR1Z5ZXdZNkNYQmhaMlV3T2cxamIyRnNaWE5qWlZRPSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--435325a84611f9b4e2210760d04bed2a88c1f429/image.png 2x, https://world.hey.com/ferrata/09f45920/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCQXY4N2p3PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--cd52e4f0a19ccab2e78fba5f51e2c4d6ee04f8c9/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDam9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFLQUZta0NBQTg2REhGMVlXeHBkSGxwUERvTGJHOWhaR1Z5ZXdZNkNYQmhaMlV3T2cxamIyRnNaWE5qWlZRPSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--c01f3983c1786fbe1f418ce337eaa6c9bbc6125e/image.png 3x" decoding="async" loading="lazy"&gt;
&lt;/a&gt;
  &lt;/figure&gt;&lt;br&gt;&lt;br&gt;Now we can test it with the following REPL:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;pre&gt;let auth = github_authenticate
let headers = {
                Accepts : &amp;quot;application/vnd.github.v3+json&amp;quot;
              }
              |&amp;gt;Dict::set &amp;quot;User-Agent&amp;quot; &amp;quot;DarkGithub&amp;quot;
              |&amp;gt;Dict::merge HttpClient::bearerTokenv1 auth.token
let response = HttpClient::getv5 &amp;quot;https://api.github.com/users/ferrata&amp;quot; Dict::empty headers
Ok response.body&lt;/pre&gt;&lt;div&gt;&lt;br&gt;  &lt;figure class="attachment attachment--preview attachment--lightboxable attachment--png"&gt;
      &lt;a download="image.png" title="Download image.png" data-click-proxy-target="lightbox_link_blob_1022311983" href="https://world.hey.com/ferrata/09f45920/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCQzgrN3p3PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--33ca7dc9118d80219f3e67fd9cc9422a9b17554b/image.png?disposition=attachment"&gt;
        &lt;img src="https://world.hey.com/ferrata/09f45920/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCQzgrN3p3PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--33ca7dc9118d80219f3e67fd9cc9422a9b17554b/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDam9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFLQUIya0NBQVU2REhGMVlXeHBkSGxwU3pvTGJHOWhaR1Z5ZXdZNkNYQmhaMlV3T2cxamIyRnNaWE5qWlZRPSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9333ff4f088aa9239bed4b0a224e37f2c7bab42d/image.png" alt="image.png" srcset="https://world.hey.com/ferrata/09f45920/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCQzgrN3p3PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--33ca7dc9118d80219f3e67fd9cc9422a9b17554b/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDam9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJQUQya0NBQW82REhGMVlXeHBkSGxwUVRvTGJHOWhaR1Z5ZXdZNkNYQmhaMlV3T2cxamIyRnNaWE5qWlZRPSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--435325a84611f9b4e2210760d04bed2a88c1f429/image.png 2x, https://world.hey.com/ferrata/09f45920/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCQzgrN3p3PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--33ca7dc9118d80219f3e67fd9cc9422a9b17554b/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDam9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFLQUZta0NBQTg2REhGMVlXeHBkSGxwUERvTGJHOWhaR1Z5ZXdZNkNYQmhaMlV3T2cxamIyRnNaWE5qWlZRPSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--c01f3983c1786fbe1f418ce337eaa6c9bbc6125e/image.png 3x" decoding="async" loading="lazy"&gt;
&lt;/a&gt;
  &lt;/figure&gt;&lt;br&gt;&lt;br&gt;...and look! It works! 😊&lt;br&gt;&lt;br&gt;References:&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="https://darklang.com/"&gt;https://darklang.com/&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://docs.darklang.com/"&gt;https://docs.darklang.com/&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://docs.github.com/en/developers/apps/building-github-apps/"&gt;https://docs.github.com/en/developers/apps/building-github-apps/&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;
&lt;/div&gt;
</content>
    <author>
      <name>Sasha Goloshchapov</name>
      <email>ferrata@hey.com</email>
    </author>
  </entry>
  <entry>
    <id>tag:world.hey.com,2005:World::Post/23931</id>
    <published>2022-11-05T01:19:46Z</published>
    <updated>2022-11-05T03:19:15Z</updated>
    <link rel="alternate" type="text/html" href="https://world.hey.com/ferrata/attention-to-detail-fa7267d8"/>
    <title>Attention to detail </title>
    <content type="html">&lt;div class="trix-content"&gt;
  &lt;div&gt;Let me tell you a funny story. &lt;br&gt;&lt;br&gt;It wouldn't be a stretch to say that one of my personal and professional traits is attention to detail. It's more like an obsession with detail. You can ask anyone who ever worked with me. It's just the way I have always been. I think I'm wired in a way that, for me, it's an effort to let go. I'm not saying it's good or bad; I am saying I &lt;strong&gt;&lt;em&gt;do&lt;/em&gt;&lt;/strong&gt; have attention to detail. &lt;br&gt;&lt;br&gt;That was a preamble. And here is the story.&lt;br&gt;&lt;br&gt;A while ago, I realized I needed to find a new gig. Everyone knows it's stressful, but my situation was also challenging because I was not ready to look for a new job after working at the same company for a little over 12 years. Not ready at all.&lt;br&gt;&lt;br&gt;One thing you do when looking for a job is to update your resume. And so I did. You are supposed to put quite a bunch of bullet points in your resume: your strong sides, your technical skills, the projects you are proud of the most, and so on. So I did that too. &amp;quot;C#, Python, JavaScript, TDD, REST, SQL..&amp;quot; You know the drill. As for my strong sides, I struggled quite a bit because of my natural imposter syndrome. But not once I doubted the &amp;quot;attention to detail&amp;quot; line. Because I &lt;strong&gt;&lt;em&gt;do&lt;/em&gt;&lt;/strong&gt; have attention to detail, you can tell by my pixel-adjusting the custom-crafted resume layout.&lt;br&gt;&lt;br&gt;All that process took some time and was as painful as one would expect, and finally, I had everything ready to start applying.&lt;br&gt;&lt;br&gt;I applied to many places and got screening calls. From what I could tell, they were successful. People were excited to get me to the next stage of the process, and so was I. Things were going well.&lt;br&gt;&lt;br&gt;But I started to notice a concerning tendency. After the first successful chat or two, I didn't hear back from them. I was waiting for the promised next steps, but nothing was happening. That didn't stop me. I also have another natural trait: I am stubborn. So I kept applying, chatting, receiving emails, and doing technical assessments. &lt;br&gt;&lt;br&gt; About the third month into looking for a job, I got a call from a company I was seriously considering. They called me a week later than we agreed. By that time, I was already expecting such things.&lt;br&gt;&lt;br&gt;The interesting part was that they apologized by saying they couldn't contact me earlier. Guess why? Because a phone number in my resume &lt;strong&gt;&lt;em&gt;had a typo!&lt;/em&gt;&lt;/strong&gt; 😱 I had put a zero instead of an eight. I couldn't believe it, I checked it right away, and they were right!&lt;br&gt;&lt;br&gt;And suddenly, it all aligned in my head. That's what was happening! None of them ever missed a follow-up call. They were just calling the wrong number! &lt;br&gt;&lt;br&gt;So much for the attention to detail.&lt;br&gt;&lt;br&gt;Of course, I've fixed my resume. No, not by removing the &amp;quot;attention to detail&amp;quot; line. Instead, I updated the phone number. Later on, I finally got a job that looked promising.&lt;br&gt;&lt;br&gt;Why was I telling you all that? Maybe to remind you that once in a while we all do stupid things, attention to detail or not.&lt;br&gt;&lt;br&gt;What do you think was the first thing I checked in my resume before applying for the next job? Yep, my phone number. I guess I should have called that unlucky person who suffered from all these calls because of me. But I think now it's too late for that.&lt;/div&gt;
&lt;/div&gt;
</content>
    <author>
      <name>Sasha Goloshchapov</name>
      <email>ferrata@hey.com</email>
    </author>
  </entry>
  <entry>
    <id>tag:world.hey.com,2005:World::Post/23622</id>
    <published>2022-10-21T22:54:22Z</published>
    <updated>2022-10-21T23:49:15Z</updated>
    <link rel="alternate" type="text/html" href="https://world.hey.com/ferrata/do-i-need-tests-19cab9f5"/>
    <title>Do I need tests?</title>
    <content type="html">&lt;div class="trix-content"&gt;
  &lt;div&gt;Do I need tests? People working in the industry will often say, &amp;quot;yes! what a dumb question!&amp;quot;&lt;br&gt;&lt;br&gt;And if you then ask &amp;quot;why?&amp;quot; you will get all kinds of answers. People will tell you that you need tests because:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;it's a requirement&lt;/li&gt;&lt;li&gt;tests are important&lt;/li&gt;&lt;li&gt;you are paid to write them&lt;/li&gt;&lt;li&gt;the boss told us to have tests&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;br&gt;None of those answers make sense to me; because none of them explain &lt;em&gt;why &lt;/em&gt;I need tests.&lt;br&gt;&lt;br&gt;  &lt;figure class="attachment attachment--preview attachment--lightboxable attachment--jpg"&gt;
      &lt;a download="tdd.jpg" title="Download tdd.jpg" data-click-proxy-target="lightbox_link_blob_983698281" href="https://world.hey.com/ferrata/19cab9f5/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCR2tMb2pvPSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--19a8bece3c19c8399a2c9fc3856efa89312678f0/tdd.jpg?disposition=attachment"&gt;
        &lt;img src="https://world.hey.com/ferrata/19cab9f5/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCR2tMb2pvPSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--19a8bece3c19c8399a2c9fc3856efa89312678f0/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDam9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFLQUIya0NBQVU2REhGMVlXeHBkSGxwU3pvTGJHOWhaR1Z5ZXdZNkNYQmhaMlV3T2cxamIyRnNaWE5qWlZRPSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--e2b7e3d9ad63061a4461ddc0db7057b9f1ddfa3e/tdd.jpg" alt="tdd.jpg" srcset="https://world.hey.com/ferrata/19cab9f5/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCR2tMb2pvPSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--19a8bece3c19c8399a2c9fc3856efa89312678f0/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDam9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJQUQya0NBQW82REhGMVlXeHBkSGxwUVRvTGJHOWhaR1Z5ZXdZNkNYQmhaMlV3T2cxamIyRnNaWE5qWlZRPSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--a2042af011076e1a343861d7ec0e409c3224e82c/tdd.jpg 2x, https://world.hey.com/ferrata/19cab9f5/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCR2tMb2pvPSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--19a8bece3c19c8399a2c9fc3856efa89312678f0/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDam9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFLQUZta0NBQTg2REhGMVlXeHBkSGxwUERvTGJHOWhaR1Z5ZXdZNkNYQmhaMlV3T2cxamIyRnNaWE5qWlZRPSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--1e5be4972192d568a049e436fa48cca61f737ba1/tdd.jpg 3x" decoding="async" loading="lazy"&gt;
&lt;/a&gt;
  &lt;/figure&gt;&lt;br&gt;&lt;br&gt;There's nothing mysterious about having tests. The only reason you need tests is that they can help you. That's it. Help with what exactly? Easy. They should help you to:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;confirm that your code works as you think it works&lt;/li&gt;&lt;li&gt;refactor existing code&lt;/li&gt;&lt;li&gt;find regressions right away when production code changes&lt;/li&gt;&lt;li&gt;reduce maintenance of existing production code&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;br&gt;Unfortunately, it's not a common approach in the industry that tests are something that helps. If they don't help you, feel free to throw them away. And write the ones that help. Because you still need them.&lt;br&gt;&lt;br&gt;Of course, it takes some time to understand how to write such tests. We'll talk more about that.&lt;/div&gt;
&lt;/div&gt;
</content>
    <author>
      <name>Sasha Goloshchapov</name>
      <email>ferrata@hey.com</email>
    </author>
  </entry>
  <entry>
    <id>tag:world.hey.com,2005:World::Post/23369</id>
    <published>2022-10-02T22:47:18Z</published>
    <updated>2022-10-03T02:02:20Z</updated>
    <link rel="alternate" type="text/html" href="https://world.hey.com/ferrata/using-pre-compiled-message-templates-in-ilogger-134137d3"/>
    <title>Using pre-compiled message templates in ILogger</title>
    <content type="html">&lt;div class="trix-content"&gt;
  &lt;div&gt;I saw a Rider suggestion not long ago to use pre-compiled message templates with ILogger methods. Something like the following:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&gt;Message template should be compile time constant&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;It turns out &lt;a href="https://messagetemplates.org/"&gt;message templates&lt;/a&gt; are a thing. It sounded interesting, so I got curious to check what the performance would look like compared to &lt;a href="https://learn.microsoft.com/en-us/dotnet/csharp/tutorials/string-interpolation"&gt;interpolated string&lt;/a&gt; formatting (my current default way of string formatting).&lt;br&gt;&lt;br&gt;Let's find out. To measure and compare performance, we'll be using &lt;a href="https://benchmarkdotnet.org"&gt;BenchmarkDotNet&lt;/a&gt;.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The goal is to compare the performance of the code generated for interpolated strings and message templated strings. And while we are on it, let's also check the &lt;em&gt;string.Format&lt;/em&gt; performance.&lt;/div&gt;&lt;div&gt;&lt;br&gt;Here is a small benchmark test we'll run:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;pre&gt;[MemoryDiagnoser]
[Orderer(BenchmarkDotNet.Order.SummaryOrderPolicy.FastestToSlowest)]
[RankColumn]
public class BenchmarkLogging
{
    private static readonly ILogger Logger;
    private static readonly Random Random;

    private int Data =&amp;gt; Random.Next();

    static BenchmarkLogging()
    {
        Logger = new LoggerFactory().CreateLogger(&amp;quot;Logger&amp;quot;);
        Random = new Random();
    }

    [Benchmark]
    public void Templated()
    {
        Logger.LogInformation(&amp;quot;data: {Data}&amp;quot;, Data);
    }

    [Benchmark]
    public void Interpolated()
    {
        Logger.LogInformation($&amp;quot;data: {Data}&amp;quot;);
    }

    [Benchmark]
    public void Formatted()
    {
        Logger.LogInformation(String.Format(&amp;quot;data: {0}&amp;quot;, Data));
    }
}

internal class Program
{
    public static void Main(string[] args)
    {
        BenchmarkRunner.Run&amp;lt;BenchmarkLogging&amp;gt;();
    }
}&lt;/pre&gt;&lt;div&gt;&lt;br&gt;The full project is available &lt;a href="https://github.com/ferrata/logging-performance"&gt;here&lt;/a&gt;.&lt;br&gt;&lt;br&gt;Compiling in release configuration, running our benchmark, checking the results, and the winner is...&lt;br&gt;&lt;br&gt;  &lt;figure class="attachment attachment--preview attachment--lightboxable attachment--png"&gt;
      &lt;a download="image.png" title="Download image.png" data-click-proxy-target="lightbox_link_blob_961616325" href="https://world.hey.com/ferrata/134137d3/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCTVVaVVRrPSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--901fb6d549278ad1135f8544c80566c1dcb242a9/image.png?disposition=attachment"&gt;
        &lt;img src="https://world.hey.com/ferrata/134137d3/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCTVVaVVRrPSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--901fb6d549278ad1135f8544c80566c1dcb242a9/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDam9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFLQUIya0NBQVU2REhGMVlXeHBkSGxwU3pvTGJHOWhaR1Z5ZXdZNkNYQmhaMlV3T2cxamIyRnNaWE5qWlZRPSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9333ff4f088aa9239bed4b0a224e37f2c7bab42d/image.png" alt="image.png" srcset="https://world.hey.com/ferrata/134137d3/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCTVVaVVRrPSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--901fb6d549278ad1135f8544c80566c1dcb242a9/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDam9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJQUQya0NBQW82REhGMVlXeHBkSGxwUVRvTGJHOWhaR1Z5ZXdZNkNYQmhaMlV3T2cxamIyRnNaWE5qWlZRPSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--435325a84611f9b4e2210760d04bed2a88c1f429/image.png 2x, https://world.hey.com/ferrata/134137d3/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCTVVaVVRrPSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--901fb6d549278ad1135f8544c80566c1dcb242a9/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDam9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFLQUZta0NBQTg2REhGMVlXeHBkSGxwUERvTGJHOWhaR1Z5ZXdZNkNYQmhaMlV3T2cxamIyRnNaWE5qWlZRPSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--c01f3983c1786fbe1f418ce337eaa6c9bbc6125e/image.png 3x" decoding="async" loading="lazy"&gt;
&lt;/a&gt;
  &lt;/figure&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;...message templates!&lt;br&gt;&lt;br&gt;Almost four times as fast as interpolated string and &lt;em&gt;string.Format&lt;/em&gt;.&lt;br&gt;&lt;br&gt;Interestingly enough &lt;em&gt;string.Format&lt;/em&gt; shows the same result as interpolated string formatting. The generated code appears to be the same in my case:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;pre&gt;// [33 13 - 33 69]
IL_0000: ldsfld       class [Microsoft.Extensions.Logging.Abstractions]Microsoft.Extensions.Logging.ILogger logging_performance.BenchmarkLogging::Logger
IL_0005: ldstr        &amp;quot;data: {0}&amp;quot;
IL_000a: ldarg.0      // this
IL_000b: call         instance int32 logging_performance.BenchmarkLogging::get_Data()
IL_0010: box          [mscorlib]System.Int32
IL_0015: call         string [mscorlib]System.String::Format(string, object)
IL_001a: call         !!0/&lt;em&gt;*object*&lt;/em&gt;/[] [mscorlib]System.Array::Empty&amp;lt;object&amp;gt;()
IL_001f: call         void [Microsoft.Extensions.Logging.Abstractions]Microsoft.Extensions.Logging.LoggerExtensions::LogInformation(class [Microsoft.Extensions.Logging.Abstractions]Microsoft.Extensions.Logging.ILogger, string, object[])

// [34 9 - 34 10]
IL_0024: ret&lt;/pre&gt;&lt;div&gt;&lt;br&gt;Checking the &lt;a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/tokens/interpolated#compilation-of-interpolated-strings"&gt;documentation&lt;/a&gt;, and now I feel embarrassed because it states exactly this.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&gt;If an interpolated string has the type string, it's typically transformed into a String.Format method call. The compiler may replace String.Format with String.Concat if the analyzed behavior would be equivalent to concatenation.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;Oops 😳&lt;br&gt;&lt;br&gt;And what about the code that is generated for message templates?&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;pre&gt;// [27 13 - 27 57]
IL_0000: ldsfld       class [Microsoft.Extensions.Logging.Abstractions]Microsoft.Extensions.Logging.ILogger logging_performance.BenchmarkLogging::Logger
IL_0005: ldstr        &amp;quot;data: {Data}&amp;quot;
IL_000a: ldc.i4.1
IL_000b: newarr       [mscorlib]System.Object
IL_0010: dup
IL_0011: ldc.i4.0
IL_0012: ldarg.0      // this
IL_0013: call         instance int32 logging_performance.BenchmarkLogging::get_Data()
IL_0018: box          [mscorlib]System.Int32
IL_001d: stelem.ref
IL_001e: call         void [Microsoft.Extensions.Logging.Abstractions]Microsoft.Extensions.Logging.LoggerExtensions::LogInformation(class [Microsoft.Extensions.Logging.Abstractions]Microsoft.Extensions.Logging.ILogger, string, object[])

// [28 9 - 28 10]
IL_0023: ret&lt;/pre&gt;&lt;div&gt;&lt;br&gt;Interesting. But not particularly clear. Now I got curious how exactly ILogger does its magic with the message templates. Maybe I will investigate this later.&lt;br&gt;&lt;br&gt;So, key takeaways from the above are:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;ol&gt;&lt;li&gt;Using message templates with ILogger seems to be a Good Thing&lt;/li&gt;&lt;li&gt;Next time I should read the documentation carefully before writing a blog post&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;
&lt;/div&gt;
</content>
    <author>
      <name>Sasha Goloshchapov</name>
      <email>ferrata@hey.com</email>
    </author>
  </entry>
  <entry>
    <id>tag:world.hey.com,2005:World::Post/23114</id>
    <published>2022-09-19T06:27:33Z</published>
    <updated>2022-09-19T06:27:33Z</updated>
    <link rel="alternate" type="text/html" href="https://world.hey.com/ferrata/don-t-be-afraid-of-wrong-things-f0b06fdb"/>
    <title>Don't be afraid (of wrong things)</title>
    <content type="html">&lt;div class="trix-content"&gt;
  &lt;div&gt;The phrase &amp;quot;don't be afraid&amp;quot; sounds fake. It's natural to have fear. Moreover, not having fear is just impossible. And definitely, you can't ignore it.&lt;br&gt;&lt;br&gt;But it's a good question what exactly are you afraid of? Analyzing this further can unfold a lot of interesting things.&lt;br&gt;&lt;br&gt;How often have you been told that you shouldn't do something because it will &lt;em&gt;make you look unprofessional&lt;/em&gt;? Or ask this and that because it will &lt;em&gt;make you look incompetent&lt;/em&gt;? How many times have you been paralyzed because you were &lt;em&gt;afraid to be wrong&lt;/em&gt;?&lt;br&gt;&lt;br&gt;Maybe you are like me, and you have experienced all of the above and even more. At some point in my life, I realized that this was stupid. No, not to be afraid, but to be afraid of all the wrong things.&lt;br&gt;&lt;br&gt;What wrong things?&lt;br&gt;&lt;br&gt;For example, when you are told that something will &lt;em&gt;make you look unprofessional&lt;/em&gt;, what they often mean is &amp;quot;don't question the authority&amp;quot;, &amp;quot;don't be honest&amp;quot;, or &amp;quot;just do what I say.&amp;quot; People tend to confuse looking professional with being silent or being obedient.&lt;br&gt;&lt;br&gt;Let's stop being afraid of how we'll look. So don't be afraid to:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;look unprofessional by questioning authority or by being honest&lt;/li&gt;&lt;li&gt;look incompetent by asking questions&lt;/li&gt;&lt;li&gt;look dumb by asking the same question if you don't understand the answer&lt;/li&gt;&lt;li&gt;look weak by being kind&lt;/li&gt;&lt;li&gt;(the list is incomplete, but you get the idea)&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;br&gt;And most importantly, please don't be afraid to be wrong. Being wrong is a gift. It is the only way you get better.&lt;br&gt;&lt;br&gt;Instead, be afraid of:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;not being kind&lt;/li&gt;&lt;li&gt;making assumptions &lt;/li&gt;&lt;li&gt;being right&lt;/li&gt;&lt;li&gt;being ignorant&lt;/li&gt;&lt;li&gt;not admitting your mistakes &lt;/li&gt;&lt;li&gt;not speaking up&lt;/li&gt;&lt;li&gt;(the list is incomplete, but again, you get the idea)&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;br&gt;You shouldn't just take my word for it. Let's experiment. Next time you get scared, ask yourself what you are afraid of. And then channel your fear in the right direction. It might take some practice, but you will see the difference.&lt;/div&gt;
&lt;/div&gt;
</content>
    <author>
      <name>Sasha Goloshchapov</name>
      <email>ferrata@hey.com</email>
    </author>
  </entry>
  <entry>
    <id>tag:world.hey.com,2005:World::Post/22838</id>
    <published>2022-08-31T20:13:38Z</published>
    <updated>2022-10-02T15:23:55Z</updated>
    <link rel="alternate" type="text/html" href="https://world.hey.com/ferrata/hey-there-cc0b054c"/>
    <title>Hey there!</title>
    <content type="html">&lt;div class="trix-content"&gt;
  &lt;div&gt;My name is Alexander; people who know me call me Sasha. &lt;br&gt;&lt;br&gt;Interestingly I haven't had a blog for my whole 20+ career as a developer. I've never considered myself to be worthy of having a blog. I am just a regular guy who enjoys crafting software with like-minded people. But the idea that my thoughts might be encouraging for someone made me change my mind.&lt;br&gt;&lt;br&gt;So this is my first attempt to create a semi-technical blog. I have no idea how well I'll do; we'll see.&lt;br&gt;&lt;br&gt;Since I don't know where to start, I will begin with an introduction.&lt;br&gt;&lt;br&gt;Here are five traits that define me as an engineer:&lt;br&gt;&lt;br&gt;1. I am a kind and empathetic teammate&lt;br&gt;&lt;br&gt;I know first hand &lt;a href="http://nyti.ms/20Vn3sz"&gt;how important&lt;/a&gt; empathy is for enabling people around you. I believe that my &lt;a href="https://bit.ly/3aMtH1s"&gt;emotional intelligence&lt;/a&gt; allows me to recognize work situations that call for empathy and kindness, unblocking the team to do its best work.&lt;br&gt;&lt;br&gt;2. I believe that &lt;a href="https://youtu.be/Rs1tdql6Hb0"&gt;TEAM == PRODUCT&lt;/a&gt;&lt;br&gt;&lt;br&gt;Not that long ago I worked on a team that lived this mantra, and this was the most amazing experience I had in my career. The slogan is not metaphorical, a product is a direct projection of the people that worked on it. I’ve been through a journey of building a highly aligned and performant team. I understand that forging one using seemingly unfit parts &lt;a href="https://bit.ly/3aVl98D"&gt;is an art&lt;/a&gt;, and would like to believe I mastered it at least to some degree.&lt;br&gt;&lt;br&gt;3. I hold myself and others to a high standard&lt;br&gt;&lt;br&gt;The act of creating software is a craft that takes time and deep focus. I am ecstatic about &lt;a href="https://bit.ly/3hjIi74"&gt;clean code&lt;/a&gt; and &lt;a href="https://youtu.be/pnWkj6Caelc"&gt;beautiful and elegant solutions&lt;/a&gt;. This is why I strive to write simple, consistent, and maintainable code, and consider myself on a personal crusade against entropy of the Universe.&lt;br&gt;&lt;br&gt;4. I make things happen&lt;br&gt;&lt;br&gt;I practice what I preach. When I see a problem, I own it. I don’t consider perpetual “running” sustainable, but I can definitely run when there is no other option. Last two decades I’ve worked with a wide range of technologies. That allows me to learn and adapt fast to make things happen.&lt;br&gt;&lt;br&gt;5. I enjoy mentoring others, and I’m good at it&lt;br&gt;&lt;br&gt;Mentorship is not the same as teaching and of course it has nothing to do with &amp;quot;managing&amp;quot;. It’s leading by example, doing together, not leaving people alone, and, most importantly, genuinely caring about a person you’re working with. I do all of that.&lt;br&gt;&lt;br&gt;That’s me. Or at least that’s me reduced to five bullet points. If more than a couple of things on this list resonate with you, keep reading my blog. &lt;br&gt;&lt;br&gt;Thanks!&lt;/div&gt;
&lt;/div&gt;
</content>
    <author>
      <name>Sasha Goloshchapov</name>
      <email>ferrata@hey.com</email>
    </author>
  </entry>
</feed>
